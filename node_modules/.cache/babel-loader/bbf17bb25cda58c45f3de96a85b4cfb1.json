{"ast":null,"code":"import axios from 'axios';\nimport getDeviceData from \"./getDeviceData\";\nimport getUserData from \"./getUserData\";\nimport getLineData from \"./getLineData\";\nimport getVoicemailData from \"./getVoicemailData\";\nimport getLasData from './getLasData';\nimport getDidData from './getDidData';\nexport default async function callApi(loadingBar, setLoadingBar) {\n  let loadingWidth = 0;\n  let rawData = {};\n  let cleanData = {};\n  let locationHierarchy = {};\n\n  const start = () => {\n    console.time(\"Start\");\n  };\n\n  const end = () => {\n    console.time(\"End\");\n  };\n\n  start();\n  axios.all([axios.get(`http://localhost:5000/phones`), axios.get(`http://localhost:5000/subscribers`), axios.get(`http://localhost:5000/lines`), axios.get(`http://localhost:5000/voicemail`), axios.get(`http://localhost:5000/did`), axios.get(`http://localhost:5000/las`), axios.get(`http://localhost:5000/location_hierarchy`)]).then(axios.spread(function () {\n    for (var _len = arguments.length, res = new Array(_len), _key = 0; _key < _len; _key++) {\n      res[_key] = arguments[_key];\n    }\n\n    res.forEach(data => {\n      let type = data.request.responseURL.split('/').at(-1);\n      console.log(type);\n      end();\n    });\n  }));\n  console.time(\"Second\");\n  let res = await axios.get(`http://localhost:5000/phones`);\n\n  try {\n    loadingWidth += 20;\n    setLoadingBar({ ...loadingBar,\n      width: loadingWidth\n    });\n    rawData['phones'] = res['data'];\n    cleanData['phones'] = await getDeviceData(res);\n  } catch {\n    console.log(res.status);\n  }\n\n  res = await axios.get(`http://localhost:5000/subscribers`);\n\n  try {\n    loadingWidth += 20;\n    setLoadingBar({ ...loadingBar,\n      width: loadingWidth\n    });\n    rawData['subscribers'] = res['data'];\n    cleanData['subscribers'] = await getUserData(res);\n  } catch {\n    console.log(res.status);\n  }\n\n  res = await axios.get(`http://localhost:5000/lines`);\n\n  try {\n    loadingWidth += 20;\n    setLoadingBar({ ...loadingBar,\n      width: loadingWidth\n    });\n    rawData['lines'] = res['data'];\n    cleanData['lines'] = await getLineData(res);\n  } catch {\n    console.log(res.status);\n  }\n\n  res = await axios.get(`http://localhost:5000/voicemail`);\n\n  try {\n    loadingWidth += 20;\n    setLoadingBar({ ...loadingBar,\n      width: loadingWidth\n    });\n    rawData['voicemail'] = res['data'];\n    cleanData['voicemail'] = await getVoicemailData(res);\n  } catch {\n    console.log(res.status);\n  }\n\n  res = await axios.get(`http://localhost:5000/did`);\n\n  try {\n    loadingWidth += 20;\n    setLoadingBar({ ...loadingBar,\n      width: loadingWidth\n    });\n    rawData['did'] = res['data'];\n    cleanData['did'] = await getDidData(res);\n  } catch {\n    console.log(res.status);\n  }\n\n  res = await axios.get(`http://localhost:5000/las`);\n\n  try {\n    loadingWidth += 20;\n    setLoadingBar({ ...loadingBar,\n      width: loadingWidth\n    });\n    rawData['las'] = res['data'];\n    cleanData['las'] = await getLasData(res);\n  } catch {\n    console.log(res.status);\n  }\n\n  res = await axios.get(`http://localhost:5000/location_hierarchy`);\n\n  try {\n    loadingWidth += 20;\n    setLoadingBar({ ...loadingBar,\n      width: loadingWidth\n    });\n    locationHierarchy = res['data'];\n  } catch {\n    console.log(res.status);\n  }\n\n  console.timeEnd(\"Second\");\n  return new Promise((resolve, reject) => {\n    resolve({\n      \"rawData\": rawData,\n      \"cleanData\": cleanData,\n      \"locationHierarchy\": locationHierarchy\n    });\n    reject(\"fail\");\n  });\n}","map":{"version":3,"sources":["C:/Users/Josh/Desktop/ld/ldps/src/common/api/callApi.js"],"names":["axios","getDeviceData","getUserData","getLineData","getVoicemailData","getLasData","getDidData","callApi","loadingBar","setLoadingBar","loadingWidth","rawData","cleanData","locationHierarchy","start","console","time","end","all","get","then","spread","res","forEach","data","type","request","responseURL","split","at","log","width","status","timeEnd","Promise","resolve","reject"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport getDeviceData from \"./getDeviceData\";\r\nimport getUserData from \"./getUserData\";\r\nimport getLineData from \"./getLineData\";\r\nimport getVoicemailData from \"./getVoicemailData\"\r\nimport getLasData from './getLasData';\r\nimport getDidData from './getDidData';\r\n\r\nexport default async function callApi(loadingBar, setLoadingBar) {\r\n  let loadingWidth = 0\r\n  let rawData = {}\r\n  let cleanData = {}\r\n  let locationHierarchy = {}\r\n  const start = () => {console.time(\"Start\")}\r\n  const end = () => {console.time(\"End\")}\r\n\r\n  start()\r\n  axios.all([\r\n    axios.get(`http://localhost:5000/phones`),\r\n    axios.get(`http://localhost:5000/subscribers`),\r\n    axios.get(`http://localhost:5000/lines`),\r\n    axios.get(`http://localhost:5000/voicemail`),\r\n    axios.get(`http://localhost:5000/did`),\r\n    axios.get(`http://localhost:5000/las`),\r\n    axios.get(`http://localhost:5000/location_hierarchy`)\r\n  ])\r\n  .then(axios.spread((...res) => {\r\n    res.forEach(data => {\r\n      let type = data.request.responseURL.split('/').at(-1)\r\n\r\n      console.log(type)\r\n      end()\r\n    })\r\n  }))\r\n\r\n  console.time(\"Second\")\r\n  let res = await axios.get(`http://localhost:5000/phones`)\r\n  try {\r\n    loadingWidth+=20\r\n    setLoadingBar({...loadingBar, width: loadingWidth})\r\n    rawData['phones'] = res['data']\r\n    cleanData['phones'] = await getDeviceData(res)\r\n  }\r\n  catch {console.log(res.status)}\r\n\r\n  res = await axios.get(`http://localhost:5000/subscribers`)\r\n  try {\r\n    loadingWidth+=20\r\n    setLoadingBar({...loadingBar, width: loadingWidth})\r\n    rawData['subscribers'] = res['data']\r\n    cleanData['subscribers'] = await getUserData(res)\r\n  }\r\n  catch {console.log(res.status)}\r\n\r\n  res = await axios.get(`http://localhost:5000/lines`)\r\n  try {\r\n    loadingWidth+=20\r\n    setLoadingBar({...loadingBar, width: loadingWidth})\r\n    rawData['lines'] = res['data']\r\n    cleanData['lines'] = await getLineData(res)\r\n  }\r\n  catch {console.log(res.status)}\r\n\r\n  res = await axios.get(`http://localhost:5000/voicemail`)\r\n  try {\r\n    loadingWidth+=20\r\n    setLoadingBar({...loadingBar, width: loadingWidth})\r\n    rawData['voicemail'] = res['data']\r\n    cleanData['voicemail'] = await getVoicemailData(res)\r\n  }\r\n  catch {console.log(res.status)}\r\n\r\n  res = await axios.get(`http://localhost:5000/did`)\r\n  try {\r\n    loadingWidth+=20\r\n    setLoadingBar({...loadingBar, width: loadingWidth})\r\n    rawData['did'] = res['data']\r\n    cleanData['did'] = await getDidData(res)\r\n  }\r\n  catch {console.log(res.status)}\r\n\r\n  res = await axios.get(`http://localhost:5000/las`)\r\n  try {\r\n    loadingWidth+=20\r\n    setLoadingBar({...loadingBar, width: loadingWidth})\r\n    rawData['las'] = res['data']\r\n    cleanData['las'] = await getLasData(res)\r\n  }\r\n  catch {console.log(res.status)}\r\n\r\n  res = await axios.get(`http://localhost:5000/location_hierarchy`)\r\n  try {\r\n    loadingWidth+=20\r\n    setLoadingBar({...loadingBar, width: loadingWidth})\r\n    locationHierarchy = res['data']\r\n  }\r\n  catch {console.log(res.status)}\r\n  \r\n  console.timeEnd(\"Second\")\r\n  return new Promise((resolve, reject) => {\r\n    resolve({\r\n      \"rawData\": rawData,\r\n      \"cleanData\": cleanData, \r\n      \"locationHierarchy\": locationHierarchy\r\n    })\r\n    reject(\"fail\")\r\n  })\r\n\r\n}"]},"metadata":{},"sourceType":"module"}