{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Administrator/Desktop/ld/ldps/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"C:/Users/Administrator/Desktop/ld/ldps/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"C:/Users/Administrator/Desktop/ld/ldps/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Administrator/Desktop/ld/ldps/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{React,useEffect,useState}from'react';import'simplebar/dist/simplebar.min.css';import*as style from\"./style/mainStyle\";import callApi from'./api/callApi';import Focused from\"./focused/focused\";import Loading from\"./loading/loading\";import ProfileList from\"./profileList/profileList\";import ProfileButtons from\"./profileButtons/profileButtons\";import ProfileTotal from\"./profileTotal/profileTotal\";import checkFlag from\"./api/checkFlag\";import updateFlag from\"./api/updateFlag\";//Extends App\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Main(){var _useState=useState([\"Phones\",\"Subscribers\",\"Lines\",\"Voicemail\",\"DID\",\"LAS\"]),_useState2=_slicedToArray(_useState,2),listToRender=_useState2[0],setListToRender=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),rawData=_useState4[0],setRawData=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),profileData=_useState6[0],setProfileData=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),profileDataToRender=_useState8[0],setProfileDataToRender=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),locationHierarchy=_useState10[0],setLocationHierarchy=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),profileChanges=_useState12[0],setProfileChanges=_useState12[1];var _useState13=useState(25),_useState14=_slicedToArray(_useState13,2),totalToRenderNumber=_useState14[0],setTotalToRenderNumber=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),focused=_useState16[0],setFocused=_useState16[1];var _useState17=useState(style.loadingContainer),_useState18=_slicedToArray(_useState17,2),loading=_useState18[0],setLoading=_useState18[1];// Retrieves data from server //\nuseEffect(function(){var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return callApi();case 2:res=_context.sent;setRawData(res['rawData']);setProfileData(res['cleanData']);setProfileDataToRender(res['cleanData']);setLocationHierarchy(res['locationHierarchy']);setProfileChanges(res.profileChanges);setLoading(_objectSpread(_objectSpread({},style.loadingContainer),{},{visibility:\"hidden\"}));case 9:case\"end\":return _context.stop();}}},_callee);}));return function getData(){return _ref.apply(this,arguments);};}();var flag=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var db,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return checkFlag();case 2:db=_context2.sent;if(!db.new_data){_context2.next=11;break;}db.new_data=false;updateFlag(db);_context2.next=8;return callApi();case 8:res=_context2.sent;setRawData(res['rawData']);setProfileData(res['cleanData']);case 11:case\"end\":return _context2.stop();}}},_callee2);}));return function flag(){return _ref2.apply(this,arguments);};}();getData();setInterval(function(){return flag();},10000);},[]);return/*#__PURE__*/_jsxs(\"div\",{style:style.main,children:[/*#__PURE__*/_jsx(Loading,{container:loading,circle:style.loadingCircle}),/*#__PURE__*/_jsx(ProfileButtons,{listToRender:listToRender,setListToRender:setListToRender}),/*#__PURE__*/_jsxs(\"div\",{style:style.containerMiddle,children:[/*#__PURE__*/_jsx(ProfileList,{focused:focused,setFocused:setFocused,listToRender:listToRender,profileData:profileData,profileDataToRender:profileDataToRender,setProfileDataToRender:setProfileDataToRender,totalToRenderNumber:totalToRenderNumber}),/*#__PURE__*/_jsx(Focused,{focused:focused,setFocused:setFocused,locationHierarchy:locationHierarchy,rawData:rawData,profileChanges:profileChanges})]}),/*#__PURE__*/_jsx(ProfileTotal,{listToRender:listToRender,profileDataToRender:profileDataToRender,totalToRenderNumber:totalToRenderNumber,setTotalToRenderNumber:setTotalToRenderNumber})]});};","map":{"version":3,"sources":["C:/Users/Administrator/Desktop/ld/ldps/src/common/main.jsx"],"names":["React","useEffect","useState","style","callApi","Focused","Loading","ProfileList","ProfileButtons","ProfileTotal","checkFlag","updateFlag","Main","listToRender","setListToRender","rawData","setRawData","profileData","setProfileData","profileDataToRender","setProfileDataToRender","locationHierarchy","setLocationHierarchy","profileChanges","setProfileChanges","totalToRenderNumber","setTotalToRenderNumber","focused","setFocused","loadingContainer","loading","setLoading","getData","res","visibility","flag","db","new_data","setInterval","main","loadingCircle","containerMiddle"],"mappings":"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","sourcesContent":["import {React, useEffect, useState} from 'react';\r\nimport 'simplebar/dist/simplebar.min.css';\r\nimport * as style from \"./style/mainStyle\";\r\nimport callApi from './api/callApi';\r\nimport Focused from \"./focused/focused\";\r\nimport Loading from \"./loading/loading\";\r\nimport ProfileList from \"./profileList/profileList\";\r\nimport ProfileButtons from \"./profileButtons/profileButtons\";\r\nimport ProfileTotal from \"./profileTotal/profileTotal\";\r\nimport checkFlag from \"./api/checkFlag\";\r\nimport updateFlag from \"./api/updateFlag\";\r\n\r\n//Extends App\r\nexport default function Main() {\r\n  const [listToRender, setListToRender] = useState([\"Phones\", \"Subscribers\", \"Lines\", \"Voicemail\", \"DID\", \"LAS\"])\r\n  const [rawData, setRawData] = useState([])\r\n  const [profileData, setProfileData] = useState([])\r\n  const [profileDataToRender, setProfileDataToRender] = useState([])\r\n  const [locationHierarchy, setLocationHierarchy] = useState([])\r\n  const [profileChanges, setProfileChanges] = useState([])\r\n  const [totalToRenderNumber, setTotalToRenderNumber] = useState(25)\r\n  const [focused, setFocused] = useState([])\r\n  const [loading, setLoading] = useState(style.loadingContainer)\r\n\r\n  // Retrieves data from server //\r\n  useEffect(() => {\r\n    const getData = async () => {\r\n      let res = await callApi()\r\n      setRawData(res['rawData'])\r\n      setProfileData(res['cleanData'])\r\n      setProfileDataToRender(res['cleanData'])\r\n      setLocationHierarchy(res['locationHierarchy'])\r\n      setProfileChanges(res.profileChanges)\r\n      setLoading({...style.loadingContainer, visibility: \"hidden\"})\r\n    }\r\n\r\n    const flag = async () => {\r\n      let db = await checkFlag()\r\n      \r\n      if (db.new_data) {\r\n        db.new_data = false\r\n        updateFlag(db)\r\n        let res = await callApi()\r\n        setRawData(res['rawData'])\r\n        setProfileData(res['cleanData'])\r\n      }\r\n    }\r\n\r\n    getData()\r\n\r\n    setInterval(() => flag(), 10000)\r\n  }, [])\r\n\r\n  return (\r\n    <div style={style.main}>\r\n      <Loading \r\n          container = {loading} \r\n          circle    = {style.loadingCircle}/>\r\n      \r\n      <ProfileButtons\r\n          listToRender    = {listToRender}\r\n          setListToRender = {setListToRender}/>\r\n\r\n      <div style={style.containerMiddle}>\r\n        <ProfileList \r\n            focused                = {focused}\r\n            setFocused             = {setFocused}\r\n            listToRender           = {listToRender}\r\n            profileData            = {profileData}\r\n            profileDataToRender    = {profileDataToRender}\r\n            setProfileDataToRender = {setProfileDataToRender}\r\n            totalToRenderNumber    = {totalToRenderNumber}/>\r\n        \r\n        <Focused \r\n            focused           = {focused} \r\n            setFocused        = {setFocused} \r\n            locationHierarchy = {locationHierarchy}\r\n            rawData           = {rawData}\r\n            profileChanges    = {profileChanges}/>\r\n      </div>\r\n\r\n      <ProfileTotal \r\n          listToRender           = {listToRender}\r\n          profileDataToRender    = {profileDataToRender} \r\n          totalToRenderNumber    = {totalToRenderNumber} \r\n          setTotalToRenderNumber = {setTotalToRenderNumber}/>\r\n    \r\n    </div>\r\n  )\r\n};"]},"metadata":{},"sourceType":"module"}